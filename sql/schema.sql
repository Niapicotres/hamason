create table CUSTOMERS (cardExpiryDate date not null, address varchar(255), cardNumber varchar(255) not null, email varchar(255), fullName varchar(255), phone varchar(255), username varchar(255) not null, primary key (username));
create table FamilyCategory (id bigint generated by default as identity, nombre varchar(255) not null unique, primary key (id));
create table ORDER_LINES (discount float(53) not null, quantity integer not null, unitPrice float(53) not null, id bigint generated by default as identity, order_id bigint not null, product_id bigint not null, primary key (id));
create table ORDERS (creationDate date, id bigint generated by default as identity, customer_id varchar(255) not null, status varchar(255), primary key (id));
create table product (discount numeric(5,2) not null, price numeric(5,2) not null, rating integer not null, stock integer not null, family_category_id bigint not null, id bigint generated by default as identity, description varchar(500) not null, imageUrl varchar(255) not null, primary key (id));
create table ROLES (rolename varchar(255) not null, primary key (rolename));
create table USERS (enabled boolean, expiryDateAccount date, expiryDateCredentials date, lockedAccount boolean, email varchar(255), fullname varchar(255), password varchar(255), username varchar(255) not null, primary key (username));
create table USERS_HAS_ROLES (User_username varchar(255) not null, roleSet_rolename varchar(255) not null, primary key (User_username, roleSet_rolename));
alter table if exists CUSTOMERS add constraint FK5he3imlilo1tx6ano494b7t5c foreign key (username) references USERS;
alter table if exists ORDER_LINES add constraint FK8rvjotx531xstjm0d9n30iut9 foreign key (order_id) references ORDERS;
alter table if exists ORDER_LINES add constraint FKkgga3cm86cq4191ue0jwe3v6h foreign key (product_id) references product;
alter table if exists ORDERS add constraint FKm3ufos31bau5kja4wxp2urxgg foreign key (customer_id) references USERS;
alter table if exists product add constraint FK3ucdnr0tem4uyxiid4qj02skr foreign key (family_category_id) references FamilyCategory;
alter table if exists USERS_HAS_ROLES add constraint FK40jy793cg5kbts0087cm4engd foreign key (roleSet_rolename) references ROLES;
alter table if exists USERS_HAS_ROLES add constraint FKfy7x7il32rr6kyeos1va1fvh5 foreign key (User_username) references USERS;
